<!doctype html>
<html lang="en">

	<head>
		{% include 'snippets/head.html' %}
		<script src='/static/ace/ace.js' type='text/javascript' charset='utf-8'></script>
		<script src='/static/js/setup_remote_processor.js'></script>
	</head>

	<body>
		{% include 'snippets/navbar.html' %}
		<section class="section">
			<div class="box">
				<div class="content">
					<h1 class="title is-3">Setup a new remote processor</h1>
					<hr>
					<div id='step-1' class="container step">{% include 'snippets/setup_remote_processor/step1.html' %}</div>
					<hr>
					<div id='step-2' class="container step">{% include 'snippets/setup_remote_processor/step2.html' %}</div>
					<hr>
				</div>
			</div>
		</section>
	</body>

	<script>
		var state = {
		  set step(x) {
		    this._step = x;
				var allSteps = document.getElementsByClassName("step");
				for (i = 0; i < allSteps.length; i++) {
					if (allSteps[i].id != 'step-' + this._step) {
				  	allSteps[i].classList.add('has-text-grey-light');
					} else {
						allSteps[i].classList.remove('has-text-grey-light');
					}
				}
		  },
			set substep(x) {
		    this._substep = x;
				var allSubSteps = document.getElementsByClassName("substep");
				for (i = 0; i < allSubSteps.length; i++) {
					allSubSteps[i].classList.add("has-text-grey-light");
				}
				for (i = 1; i <= this._substep; i++) {
					var substep = document.getElementById(this._step + "_" + i);
					if (substep != null) {
						substep.classList.add("has-text-black");
						substep.classList.remove("has-text-grey-light");
					} else {
						console.log(this._step + "_" + i);
					}
				}
		  }
		};
		state.step = 1;
		state.substep = 1;
	</script>

</html>
